<div class="col-md-12 jinxloadPage" ng-cloak>
    <script>
        /*
        // This is called with the results from from FB.getLoginStatus().
        function statusChangeCallback(response) {
            console.log('statusChangeCallback');
            console.log(response);
            // The response object is returned with a status field that lets the
            // app know the current login status of the person.
            // Full docs on the response object can be found in the documentation
            // for FB.getLoginStatus().
            if (response.status === 'connected') {
                // Logged into your app and Facebook.
                testAPI();
            } else if (response.status === 'not_authorized') {
                // The person is logged into Facebook, but not your app.
                document.getElementById('status').innerHTML = 'Please log ' +
                'into this app.';
            } else {
                // The person is not logged into Facebook, so we're not sure if
                // they are logged into this app or not.
                document.getElementById('status').innerHTML = 'Please log ' +
                'into Facebook.';
            }
        }

        function checkLoginState() {
            FB.getLoginStatus(function(response) {
                statusChangeCallback(response);
            });
        }





        FB.login(function(response) {
            if (response.status === 'connected') {
                console.log('user is now connected via FB');
                window.location = '/#/home/';
            } else if (response.status === 'not_authorized') {
                console.log('user is now connected via FB, but not app?');
            } else {
                console.log('The person is not logged into Facebook, so we\'re not sure if they are logged into this app or not.');
            }
        });

        function testAPI() {
            console.log('Welcome!  Fetching your information.... ');
            FB.api('/me', function(response) {
                console.log('Successful login for: ' + response.name);
                /*
                    do stuff on /home/
                */
           /* });*/
        /*}*/
    </script>

    <a href="/auth/facebook">Login with Facebook</a>


    <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
    </fb:login-button>

    <div id="status"></div>

    <legend>Login</legend>
    <div>
        <label for="username">Username : </label>
        <input class="form-control" type="text" ng-model="auth.data.login" placeholder="Micky112" />

        <label for="password">Password : </label>
        <input class="form-control" type="password" ng-model="auth.data.password"/>
		
		<button ng-click="auth.login()">login</button>
		<button ng-click="auth.register()">register</button>
    </div>

</div>